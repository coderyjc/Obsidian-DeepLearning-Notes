## Rank-K

算法返回的排序列表中，前k位为存在检索目标则称为rank-k命中。eg：rank1：首位为检索目标则rank-1命中。

假如在人脸识别中，底库中有100个人，现在来了1个待识别的人脸（假如label为m1），与底库中的人脸比对后将底库中的人脸按照得分从高到低进行排序，我们发现：

如果识别结果是m1、m2、m3、m4、m5……，则此时rank-1的正确率为100%；rank-2的正确率也为100%；rank-5的正确率也为100%；

如果识别结果是m2、m1、m3、m4、m5……，则此时rank-1的正确率为0%；rank-2的正确率为100%；rank-5的正确率也为100%；

如果识别结果是m2、m3、m4、m5、m1……，则此时rank-1的正确率为0%；rank-2的正确率为0%；rank-5的正确率为100%；

同理，当待识别的人脸集合有很多时，则采取取平均值的做法。例如待识别人脸有3个（假如label为m1，m2，m3），同样对每一个人脸都有一个从高到低的得分，

比如：

人脸1结果为m1、m2、m3、m4、m5……，

人脸2结果为m2、m1、m3、m4、m5……，

人脸3结果m3、m1、m2、m4、m5……，

则此时rank-1的正确率为（1+1+1）/3=100%；

rank-2的正确率也为（1+1+1）/3=100%；

rank-5的正确率也为（1+1+1）/3=100%；

比如：

人脸1结果为m4、m2、m3、m5、m6……，

人脸2结果为m1、m2、m3、m4、m5……，

人脸3结果m3、m1、m2、m4、m5……，

则此时rank-1的正确率为（0+0+1）/3=33.33%；

rank-2的正确率为（0+1+1）/3=66.66%；

rank-5的正确率也为（0+1+1）/3=66.66%；

## CMC

**CMC（Cumulative Match Characteristic）曲线**：

- CMC曲线是一种用来**衡量重识别系统性能**的图形化表示方法。
- 它显示了随着返回结果数量的增加，检索到的正确匹配（即与查询图像同一身份的图像）的累积概率。
- CMC曲线通常有多个排名点，例如Rank-1, Rank-5, Rank-10等，表示在返回的前1、前5、前10的结果中至少有一个正确匹配的概率。
- CMC曲线越接近y轴（概率为1），表示系统性能越好。一个优秀的ReID系统应该能够快速地将正确的匹配排在搜索结果的前面。



## mAP

**mAP（Mean Average Precision）**：

- mAP是一种衡量信息检索系统性能的指标，特别是在分类或检索任务中。
- 它是所有查询的平均精度的均值。对于每个查询，首先计算其精度-召回率曲线，然后计算该查询的平均精度（AP），即在精度-召回率曲线下的平均精度值。
- 最后，对所有查询的AP值取平均，得到mAP。
- mAP考虑了查询结果的排名顺序，即排在前面的正确匹配对最终的精度值贡献更大。
- mAP值越高，表示系统的整体性能越好。

在行人重识别任务中，CMC曲线和mAP是两个互补的评估指标。CMC曲线提供了对系统排名能力的直观理解，而mAP提供了一个量化的、综合考虑所有查询的平均性能度量。这两个指标通常一起使用，以全面评估一个ReID系统的性能。

反映检索的人在数据库中所有正确的图片排在排序列表前面的程度，能更加全面的衡量ReID算法的性能。假设该检索行人在gallery中有10张图片，在检索的list中位置（rank）分别为1、2、3、4、5、6、7、8、9，则ap为(1/ 1 + 2 / 2 + 3 / 3 + 4 / 4 + 5 / 5 + 6 / 6 + 7 / 7 + 8 / 8 + 9 / 9) / 10 = 0.90；ap较大时，该行人的检索结果都相对靠前，对所有query的ap取平均值得到mAP



